(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7947:function(e,l,t){Promise.resolve().then(t.bind(t,921))},921:function(e,l,t){"use strict";let n;t.r(l),t.d(l,{default:function(){return eo}});var s=t(7437),i=t(3742),a=t(2265),r=t(9910);n="/api";class o{constructor(e){this.index=e.index,this.src=e.src,this.information=e.information,this.height=e.height,this.width=e.width,this.labels=e.labels,this.type=e.type,void 0===this.type&&(this.type=function(e){let l=new Set(["jpg","jpeg","png","gif","bmp","tif","tiff"]),t=new Set(["mp3","wav","aac","ogg","flac","wma","m4a","aiff","midi","ape","wavpack","alac","ac3","opus"]),n=e.split(".").pop();if(n&&n.includes("?")&&(n=n.split("?")[0]),n){let e=n.toLowerCase();if(l.has(e));else if(t.has(e))return"audio"}return"image"}(this.src))}}var d=t(2126);async function c(e,l){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return await d.Z.get("".concat(n,"/views/").concat(e,"/media/").concat(l,"?&as_base64=").concat(t.toString())).then(e=>new o({index:e.data.index,src:e.data.src,information:e.data.information,height:e.data.height,width:e.data.width,labels:e.data.labels}))}var u=t(5079),x=t(6920);async function h(e,l){return await d.Z.post("".concat(n,"/views/").concat(e,"/filter"),l).then(e=>e.data)}async function m(e,l,t,s,i,a){return await d.Z.post("".concat(n,"/views/").concat(e,"/media"),{media_ids:l,page:null!==t?t:0,sort_column:void 0!==s?s:null,ascending:void 0!==i?i:null,filters:void 0!==a?a:null}).then(e=>e.data.map(e=>new o({index:e.index,src:e.src,information:e.information,height:e.height,width:e.width,labels:e.labels})))}let g=e=>{let{filter:l,onRemove:t}=e;return(0,s.jsx)("div",{className:"pb-1",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{type:"button",className:"button rounded-l border border-e-0 border-gray-300  p-1 text-xs text-gray-900 ",children:[l.column," ",l.comparison," ",l.value]}),(0,s.jsx)("button",{type:"button",className:"button me-1 rounded-r  border border-gray-300 p-1 text-xs text-gray-900 ",onClick:t,children:(0,s.jsx)(x.G,{icon:u.NBC})})]})},"".concat(l.column).concat(l.comparison).concat(l.value))},b=()=>{let e=(0,i.Dv)(J),[l,t]=(0,i.KO)(ee),[n,r]=(0,a.useState)([]),o=(0,i.Dv)(X),d=(0,i.b9)(Y),[c,u]=(0,a.useState)(),[x,b]=(0,a.useState)(),[v,f]=(0,a.useState)(),p=(0,i.b9)(ei),j=(0,i.Dv)(en),[y,w]=(0,i.KO)(el),[N,C]=(0,i.KO)($);(0,a.useEffect)(()=>{JSON.stringify(l)!==JSON.stringify(n)&&k()},[l]);let k=()=>{h(o,l).then(e=>{if(e){d(e);let l=[];if(e.forEach(e=>{l=[...l,...e.id]}),void 0!==N&&N.length>0){let e=l.filter(e=>N[0].includes(e));C([...N,e])}w({...y,page:0})}}).catch(e=>console.error(e)),"grid"===j&&void 0!==N&&N.length>0&&void 0!==N[N.length-1]&&N[N.length-1].length>0&&m(o,N[N.length-1],y.page,y.sortBy,y.asc,l).then(e=>{e&&p(e)}).catch(e=>console.error(e))},O=e=>{r(l),t(l=>l.filter(l=>l!==e))},E=e=>l=>{e(l.target.value)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex",children:null==l?void 0:l.map(e=>(0,s.jsx)(g,{filter:e,onRemove:()=>O(e)},e.column+e.comparison+e.value))}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"pe-0 ps-0 pt-1 lg:flex lg:h-8",children:[(0,s.jsx)("div",{className:"flex w-full border border-gray-300 px-2 lg:m-0 lg:my-0 lg:w-1/3 lg:rounded-s-md lg:border-e-0",children:(0,s.jsxs)("select",{defaultValue:"",className:"my-1 block grow text-xs text-gray-900 lg:my-0","aria-label":"Default select example",onChange:E(u),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Column"}),null==e?void 0:e.columns.slice(2).filter(e=>"_y"!==e).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("div",{className:"lg:rounded-0 flex w-full border-s border-e lg:border border-gray-300 px-2 lg:m-0 lg:my-0 lg:w-1/3 lg:border-e-0",children:(0,s.jsxs)("select",{defaultValue:"",className:"my-1 block grow text-xs text-gray-900 lg:my-0",onChange:E(b),children:[(0,s.jsx)("option",{value:"",children:"comparison"}),(0,s.jsx)("option",{value:">",children:">"}),(0,s.jsx)("option",{value:">=",children:"≥"}),(0,s.jsx)("option",{value:"<",children:"<"}),(0,s.jsx)("option",{value:"=<",children:"≤"}),(0,s.jsx)("option",{value:"=",children:"="}),(0,s.jsx)("option",{value:"!=",children:"≠"})]})}),(0,s.jsx)("input",{type:"text","aria-label":"Last name",placeholder:"...",className:"block w-full py-1 lg:py-0 border-e border-s border-t lg:border border-gray-300 px-2 text-xs text-gray-900 lg:my-0 lg:w-1/3 lg:border-e-0",onChange:e=>f(e.target.value)}),(0,s.jsx)("div",{className:"button my-0 text-center cursor-pointer py-1 w-full border border-gray-300 bg-gray-100 text-xs text-gray-900 hover:text-blue-500 focus:border-blue-500  focus:ring-blue-500 lg:my-0 lg:w-1/3 lg:rounded-e-md",onClick:()=>{if(v&&x&&c){let e={column:c,comparison:x,value:v};(null==l?void 0:l.some(l=>l.column===e.column&&l.comparison===e.comparison&&l.value===e.value))||t(l=>[...l,e])}},children:"Filter"})]})})]})};var v=t(7818);let f=(0,v.default)(async()=>await Promise.all([t.e(934),t.e(8)]).then(t.bind(t,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1});var p=e=>{let{revision:l,handleHover:t,handleClick:n,handleSelect:r}=e,o=(0,i.Dv)(J),d=(0,i.Dv)(Y);if(void 0===o||void 0===d)return(0,s.jsx)(s.Fragment,{});let[c,u]=(0,a.useState)({hovermode:"closest",paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",xaxis:j(o),yaxis:{autorange:!0,showgrid:!0,showline:!1,title:{text:o.y,font:{color:"black",size:11}}},displayModeBar:!1,dragmode:"select",datarevision:l,autosize:!0,margin:{l:40,r:0,b:40,t:0,pad:0}}),[x,h]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{u(e=>({...e,xaxis:j(o),yaxis:{...e.yaxis,title:{text:o.y}},datarevision:l}))},[o,l]),(0,a.useEffect)(()=>{let e=()=>{u(e=>({...e,legend:{...e.legend,x:window.innerWidth<768?.5:void 0,xanchor:window.innerWidth<768?"center":void 0,y:window.innerWidth<768?1.1:void 0,yanchor:window.innerWidth<768?"bottom":void 0}}))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.jsxs)(s.Fragment,{children:[x&&(0,s.jsx)("div",{className:"h-100 flex-column flex items-center justify-center text-center",style:{height:"477px"},children:(0,s.jsxs)("div",{role:"status",children:[(0,s.jsxs)("svg",{"aria-hidden":"true",className:"mr-2 h-8 w-8 animate-spin fill-orange-500 text-gray-200 dark:text-gray-200",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})]})}),(0,s.jsx)(f,{data:d,layout:c,revision:l,useResizeHandler:!0,style:{width:"100%",height:"100%"},config:{scrollZoom:!0,displayModeBar:!1},onRelayout:e=>{void 0!==e["xaxis.range[0]"]&&void 0!==e["xaxis.range[1]"]&&void 0!==e["yaxis.range[0]"]&&void 0!==e["yaxis.range[1]"]&&u(l=>({...l,xaxis:{...l.xaxis,range:[e["xaxis.range[0]"],e["xaxis.range[1]"]]},yaxis:{...l.yaxis,range:[e["yaxis.range[0]"],e["yaxis.range[1]"]]}}))},onInitialized:e=>{h(!1)},onHover:e=>{var l;return t(null===(l=e.points)||void 0===l?void 0:l[0].data.id[e.points[0].pointIndex])},onClick:e=>{var l;return n(null===(l=e.points)||void 0===l?void 0:l[0].data.id[e.points[0].pointIndex])},onSelected:e=>{if((null==e?void 0:e.points)&&e.points.length>0){let l=e.points.map(e=>d[e.curveNumber].id[e.pointIndex]);r(e.points&&l)}}})]})};function j(e){return"violin"===e.type?{tick0:0,dtick:2,tickvals:null!=e.colors&&Array.from({length:e.colors.length},(e,l)=>2*l),ticktext:e.colors,autorange:!0}:"bar_chart"==e.type?{tick0:.35,dtick:1,rotation:0,tickvals:void 0!==e.x_names&&Array.from({length:e.x_names.length+1},(e,l)=>l+.35),ticktext:e.x_names,autorange:!0,automargin:!0}:{showgrid:!0,showline:!1,zeroline:!1,title:{text:e.x,font:{color:"black",size:11}},autorange:!0,automargin:!0}}class y{width(){return this.xmax-this.xmin}height(){return this.ymax-this.ymin}constructor(e,l,t,n,s,i){this.xmin=e,this.ymin=l,this.xmax=t,this.ymax=n,this.color=s,this.label=i}}var w=t(1613);let N=(e,l)=>{let t;return()=>{null!==t&&clearTimeout(t),t=setTimeout(()=>{e()},l)}};function C(e){let l=JSON.parse(e),t=[];return l.forEach(e=>{let l=e.xmin,n=e.ymin,s=e.xmax,i=e.ymax;isNaN(l)||isNaN(n)||isNaN(s)||isNaN(i)||t.push(new y(l,n,s,i,e.color,e.label))}),t}function k(e){(0,i.Dv)(X);let[l,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({width:0,height:0,naturalWidth:0,naturalHeight:0}),[o,d]=(0,a.useState)([]),c=a.useRef(null),u=a.useRef(null),[x,h]=(0,a.useState)(0),m=a.useRef(null),g=()=>{c.current&&v(c.current),m.current&&h(m.current.offsetWidth)},b=N(g,300);function v(e){let l=c.current,t=l.offsetWidth,n=l.offsetHeight,s=function(e){let l=e.naturalWidth/e.naturalHeight,t=e.height*l,n=e.height;return t>e.width&&(t=e.width,n=e.width/l),{width:t,height:n}}(e);t=s.width,r({height:isNaN(n=s.height)?0:n,naturalWidth:isNaN(l.naturalWidth)?0:l.naturalWidth,naturalHeight:isNaN(l.naturalHeight)?0:l.naturalHeight,width:isNaN(t)?0:t})}(0,a.useEffect)(()=>{g()},[]),(0,a.useEffect)(()=>(window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}),[]),(0,a.useEffect)(()=>{if(void 0!==e.media){if(null!=e.media.information&&null!=e.boundingBoxColumnIndex){let l=e.media.information[e.boundingBoxColumnIndex-2];if(null==l)return;t(C(l))}null!==u.current&&u.current.load()}},[e.media,e.boundingBoxColumnIndex]),a.useEffect(()=>{c.current&&v(c.current)},[e.media,e.columns,e.displayLabel]),(0,a.useEffect)(()=>{f()},[n]);let f=()=>{isNaN(n.width)||isNaN(n.height)||isNaN(n.naturalWidth)||isNaN(n.naturalHeight)||0===n.width||0===n.height||0===n.naturalHeight||0===n.naturalWidth||d(l.map((l,t)=>{let{textLabel:i,rect:r,textRectangle:o}=function(l,t){let i;let a=(0,s.jsx)("rect",{x:t.xmin/n.naturalWidth*n.width,y:t.ymin/n.naturalHeight*n.height,width:(t.xmax-t.xmin)/n.naturalWidth*n.width,height:(t.ymax-t.ymin)/n.naturalHeight*n.height,stroke:null!=t.color?t.color:w.O[l%w.O.length],strokeWidth:"3",fill:"none"},l),r=(0,s.jsx)("rect",{x:t.xmin/n.naturalWidth*n.width,y:t.ymin/n.naturalHeight*n.height,width:(t.xmax-t.xmin)/n.naturalWidth*n.width,height:12,fill:null!=t.color?t.color:w.O[l%w.O.length]});return null!=t.label&&e.displayLabel&&(i=(0,s.jsx)("text",{x:t.xmin/n.naturalWidth*n.width+2,y:t.ymin/n.naturalHeight*n.height+10,fill:"white",className:"small",children:t.label})),{textLabel:i,rect:a,textRectangle:r}}(t,l);return(0,s.jsxs)(a.Fragment,{children:[r,null!=i?o:"",null!=i?i:""]},t)}))};return((0,a.useEffect)(()=>{let e=()=>{null!==c.current&&v(c.current)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),void 0===e.media)?(0,s.jsx)(s.Fragment,{}):"audio"===e.media.type?(0,s.jsx)("div",{className:"image--preview",ref:m,children:(0,s.jsxs)("audio",{controls:!0,autoPlay:!0,ref:u,children:[(0,s.jsx)("source",{src:e.media.src}),"Your browser does not support the audio element."]})}):(0,s.jsxs)("div",{className:"image--preview",ref:m,children:[(0,s.jsx)("img",{src:e.media.src,ref:c,className:"sidebar-image",style:{objectFit:"contain",width:"100%"}}),(0,s.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0},className:"flex justify-center items-center",children:(0,s.jsx)("svg",{className:"sidebar-svg",width:n.width,height:n.height,children:o})}),null==e.boundingBoxColumnIndex&&void 0!==e.boundingBoxColumnIndex&&(0,s.jsx)("svg",{className:"sidebar-svg",width:n.width,height:n.height,children:o})]})}function O(){var e;let l=(0,i.Dv)(es),t=(0,i.Dv)(J);return void 0===l||void 0===t?(0,s.jsx)("div",{}):(0,s.jsx)("div",{className:"sidebar text-dark border-s-1 ms-1 w-full border-s border-gray-200 px-1 ps-2 lg:ps-0",children:(0,s.jsxs)("div",{className:"w-full",style:{display:"flex",flexDirection:"column",maxHeight:"calc(100vh - 35px)"},children:[(0,s.jsx)("div",{style:{maxHeight:"300px"},children:(0,s.jsx)(k,{media:l,boundingBoxColumnIndex:null!=t.bounding_box?t.columns.indexOf(t.bounding_box):void 0,displayLabel:!0})}),(0,s.jsx)("div",{className:"ps-2",style:{overflowY:"scroll",flexGrow:1},children:null===(e=l.information)||void 0===e?void 0:e.filter((e,l)=>l!==(null!=t.bounding_box?t.columns.indexOf(t.bounding_box):-1)).map((e,l)=>{var n;return n=t.columns.slice(2),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"border-b border-gray-300 text-gray-800",children:(0,s.jsx)("small",{children:n[l]})}),(0,s.jsx)("div",{children:(0,s.jsx)("small",{className:"text-gray-800",children:e})})]},l)})})]})})}function E(e){let{handleMediaIndices:l}=e,[t,n]=(0,i.KO)(Y),r=(0,i.b9)(en),o=(0,i.b9)(et),d=(0,i.Dv)(J),u=(0,i.Dv)(X),[x,h]=(0,a.useState)(0),[m,g]=(0,i.KO)(es);function v(e){o(e),void 0!==e&&c(u,e,!1).then(e=>{g(e)})}(0,a.useEffect)(()=>{h(x+1)},[t]),(0,a.useEffect)(()=>{void 0!==t&&void 0===m&&0!==t.length&&v(t[0].id[0])},[t]);let f=async e=>{null!=e&&null!=u&&c(u,e,!0).then(e=>{g(e),r("media")})};return void 0===d?(0,s.jsx)("div",{}):(0,s.jsxs)("div",{className:"flex h-screen",children:[(0,s.jsx)("div",{className:"w-3/4",children:(0,s.jsxs)("div",{className:"",children:[null!=d.title&&(0,s.jsx)("div",{className:"",children:d.title}),null!==u&&(0,s.jsx)(b,{}),(0,s.jsx)("div",{className:"bg-white",style:{height:"calc(100vh - 80px)"},children:(0,s.jsx)(p,{revision:x,handleHover:v,handleClick:f,handleSelect:e=>{e.length>0&&l(e)}})})]})}),(0,s.jsx)("div",{className:"w-1/4",children:(0,s.jsx)(O,{})})]})}async function D(e){return await d.Z.get("".concat(n,"/views/").concat(e)).then(e=>({config:e.data.config,data:e.data.data}))}async function S(){return await d.Z.get("".concat(n,"/uuid")).then(e=>e.data)}var L=t(1970),B=e=>{let{handleLabel:l,mediaLabels:t}=e,n=(0,i.Dv)(J),a=null==n?void 0:n.labels;return void 0===a||0===a.length?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-full border-b pt-1 text-right text-xs",children:(0,s.jsx)(x.G,{icon:u.UFh,className:" text-gray-300"})}),a.map((e,n)=>(0,s.jsxs)("div",{className:"flex w-full border-b text-center",children:[(0,s.jsxs)("label",{className:"flex flex-grow cursor-pointer justify-start ps-2",onClick:e=>{e.preventDefault(),e.stopPropagation(),l(n)},children:[t.includes(e)?(0,s.jsx)("small",{children:(0,s.jsx)(x.G,{icon:u.chG,className:"px-2 text-blue-500"})}):(0,s.jsx)("small",{children:(0,s.jsx)(x.G,{icon:L.pL1,className:"px-2"})}),(0,s.jsx)("small",{className:"ps-2",children:e})]}),(0,s.jsx)("div",{className:"flex flex-row justify-center text-xs text-gray-300",children:n+1})]},e))]})};function F(e){let l=(0,s.jsx)(s.Fragment,{}),t=(0,a.useRef)(null);(0,i.Dv)(X);let n=(0,i.Dv)(J);if(void 0===n||void 0===n.labels)return(0,s.jsx)(s.Fragment,{});if((0,a.useEffect)(()=>{let e=t.current;return e&&e.addEventListener("keydown",r),()=>{e&&e.removeEventListener("keydown",r)}},[n,e.media.index]),(0,a.useEffect)(()=>{let e=t.current;return e&&e.addEventListener("keydown",r),()=>{e&&e.removeEventListener("keydown",r)}},[]),null!=e.showColumn&&null!=e.media.information){let t=e.infoColumns.slice(2).indexOf(e.showColumn);l=(0,s.jsx)("div",{className:"truncate",children:(0,s.jsx)("div",{children:(0,s.jsx)("small",{children:e.media.information[t]})})})}function r(e){if(void 0===n||void 0===n.labels)return;let l=e.key;["1","2","3","4","5","6","7","8","9"].includes(l)&&Number(l)<=n.labels.length&&o(Number(l)-1)}function o(l){if(void 0===n||void 0===n.labels)return;let t=n.labels[l];e.updateLabel(e.media,t)}return(0,s.jsxs)("div",{ref:t,tabIndex:0,onClick:()=>e.handleClick(e.media.index),onMouseEnter:()=>{var l;e.handleHover(e.media.index),null===(l=t.current)||void 0===l||l.focus()},children:["audio"!==e.media.type?(0,s.jsx)(k,{media:e.media,boundingBoxColumnIndex:null!=e.boundingBoxColumn?e.infoColumns.indexOf(e.boundingBoxColumn):void 0,displayLabel:e.showBboxLabel,columns:e.columns}):(0,s.jsxs)("div",{children:[null===e.display&&(0,s.jsx)("div",{className:"text-gray-300 hover:text-gray-500",children:(0,s.jsx)(x.G,{icon:u.FMf,size:"5x"})}),(e.display||[]).map(l=>(0,s.jsx)("div",{children:-1===e.infoColumns.indexOf(l)?(0,s.jsx)("div",{children:l}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs border-b border-gray-300 text-gray-500",children:l}),(0,s.jsx)("div",{children:(0,s.jsx)("small",{children:e.media.information[e.infoColumns.indexOf(l)-2]})})]})},l))]}),l,(0,s.jsx)(B,{mediaLabels:e.media.labels?e.media.labels:[],handleLabel:o})]},"".concat(e.media.index,"-").concat(e.media.src))}var _=t(7170),G=t.n(_);function z(e){let{handleBack:l}=e;return(0,s.jsx)("div",{className:"flex cursor-pointer items-center text-xs hover:text-blue-500",onClick:()=>l(),children:(0,s.jsxs)("div",{children:[(0,s.jsx)(x.G,{icon:u.acZ,className:"pe-1 ps-1 hover:text-blue-500"}),"back"]})})}async function H(e,l,t){try{return(await d.Z.post("".concat(n,"/views/").concat(e,"/label"),{label:{title:t},media_indices:{media_ids:l}})).data}catch(e){throw console.error("Error saving label:",e),e}}async function W(e,l,t){try{return(await d.Z.delete("".concat(n,"/views/").concat(e,"/label"),{data:{label:{title:t},media_indices:{media_ids:l}}})).data}catch(e){throw console.error("Error deleting label:",e),e}}let Z=(0,v.default)(async()=>await Promise.all([t.e(934),t.e(8)]).then(t.bind(t,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1});function I(e){let{mediaIndices:l}=e,t=(0,i.Dv)(X),r=(0,i.Dv)(J),[o,c]=(0,a.useState)([]),u=null==r?void 0:r.columns,[x,h]=(0,a.useState)(0),[m,g]=(0,a.useState)(null==u?void 0:u[0]),[b,v]=(0,i.KO)(ee),f=e=>{if(void 0===u||void 0===o)return[];let l=u.indexOf(e);return o.map(e=>{var t;return null===(t=e.information)||void 0===t?void 0:t[l-2]})};return((0,a.useEffect)(()=>{void 0!==l&&void 0!==o&&o.length!==l.length&&d.Z.post("".concat(n,"/views/").concat(t,"/media-metadata"),{media_ids:l}).then(e=>{c(e.data)})}),void 0===r||void 0===m||void 0===o)?(0,s.jsx)("div",{children:"Loading..."}):0===o.length?(0,s.jsx)("div",{}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"mt-2 rounded-s-md border border-gray-300 bg-gray-100 p-1 pe-2 ps-2 text-xs",children:"Show stats for"}),(0,s.jsx)("select",{className:"me-0 mt-2 grow rounded-e-md border border-l-0 border-gray-300 p-1 text-xs text-gray-900",onChange:e=>{g(e.target.value)},value:m,children:null==u?void 0:u.map((e,l)=>(0,s.jsx)("option",{value:e,children:e},l))})]}),(0,s.jsx)("div",{style:{width:"100%"},children:(e=>{let l=f(e);if(!l.every(e=>"string"==typeof e||null==e))return(0,s.jsx)(Z,{data:[{type:"histogram",x:l}],layout:{font:{size:8},margin:{l:20,r:0,b:50,t:0},height:200},config:{displayModeBar:!1},onClick:l=>{!function(e,l){let t=e[0].pointIndices,n=f(l).filter((e,l)=>t.includes(l));v([...b.filter(e=>e.column!==l),{column:l,comparison:">=",value:Math.min(...n)},{column:l,comparison:"<=",value:Math.max(...n)}])}(l.points,e)}});{let t={};l.forEach(e=>{t[e]=(t[e]||0)+1});let n=Object.entries(t).sort((e,l)=>l[1]-e[1]);return n.length>50&&(n=n.slice(0,50)),(0,s.jsx)(Z,{data:[{type:"bar",x:n.map(e=>e[0]),y:n.map(e=>e[1])}],layout:{title:{text:"Top ".concat(n.length," ").concat(e),xref:"paper"},yaxis:{automargin:!0},xaxis:{automargin:!0},font:{size:8},margin:{l:20,r:20,b:0,t:30,pad:0},height:300},config:{displayModeBar:!1},onClick:l=>{!function(e,l){let t=e[0].label;v([...b.filter(e=>e.column!==l),{column:l,comparison:"=",value:t}])}(l.points,e)}})}})(m)})]})}function P(e){let{gridValues:l,setGridValues:t}=e;return(0,s.jsx)("div",{className:"flex lg:ps-2 border-b py-1 lg:py-0 border-gray-300 lg:border-b-0 lg:border-r",children:(0,s.jsxs)("div",{className:"grow flex py-2 lg:py-0",children:[(0,s.jsx)("input",{className:"",type:"checkbox",value:"",id:"flexCheckDefault",checked:l.showBboxLabel,onChange:()=>{t({...l,showBboxLabel:!l.showBboxLabel})}}),(0,s.jsx)("label",{className:"text-xs ps-2 flex items-center flex-row",htmlFor:"flexCheckDefault",children:"Show bbox label"})]})})}function K(e){return(0,s.jsxs)("div",{className:"text-xs py-2 lg:py-0.5 flex grow items-center justify-between border-r border-gray-300 pe-2",role:"group","aria-label":"Basic example",children:[(0,s.jsx)("button",{type:"button",className:0!==e.page?"hover:text-blue-500":"",onClick:()=>{e.handlePage(e.page-1)},disabled:0===e.page,children:(0,s.jsx)(x.G,{icon:u.UXu})}),(0,s.jsxs)("button",{type:"button",className:"px-1",disabled:!0,children:[e.page+1," / ",e.maxPage+1]}),(0,s.jsx)("button",{type:"button",className:"hover:text-blue-500",onClick:()=>{e.handlePage(e.page+1)},disabled:e.page===e.maxPage,children:(0,s.jsx)(x.G,{icon:u.cLY})})]})}function M(e){let{columns:l,gridValues:t,setGridValues:n}=e;return(0,s.jsxs)("select",{className:"w-full grow text-xs",onChange:e=>n({...t,showColumnValue:e.target.value}),value:t.showColumnValue,children:[(0,s.jsx)("option",{value:"",defaultValue:"",children:"Show value"}),l.slice(2).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}function V(e){let{columns:l,gridValues:t,handleSort:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("select",{name:"",className:"grow text-xs",onChange:e=>n(e.target.value,t.asc),value:t.sortBy,children:[(0,s.jsx)("option",{value:"",defaultValue:"",children:"Order by"}),l.slice(2).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsx)("button",{className:"",type:"button",onClick:()=>{n(t.sortBy,!t.asc)},children:(0,s.jsx)(x.G,{icon:t.asc?u.sHD:u.O7s})})]})}var R=t(8726);let T=async(e,l)=>d.Z.post("".concat(n,"/views/").concat(l,"/labels-count"),{media_ids:e}).then(e=>(console.log(e.data,"COUNT"),e.data));function A(e){let{hideLabel:l}=e,t=(0,i.Dv)(X),[r,o]=(0,a.useState)(""),[c,h]=(0,i.KO)(J),[m,g]=(0,i.KO)(ei),b=m.filter(e=>void 0!==e.labels&&null!==e.labels&&e.labels.length>0),v=(0,i.Dv)($),f=void 0!==v?v[v.length-1]:[],[p,j]=(0,a.useState)([]);if(void 0===c)return(0,s.jsx)(s.Fragment,{});async function y(e,l){if(void 0===c)return;let i=e?f:[];d.Z.post("".concat(n,"/views/").concat(t,"/label-to-grid"),{label:{title:void 0===l?"":l},media_indices:{media_ids:i}}).then(e=>{let l=e.data.split("/").pop();R.ZP.custom(e=>(0,s.jsxs)("div",{className:"bg-gray-300 text-black px-6 py-4 shadow-md rounded-md ".concat(e.visible?"animate-enter":"animate-leave"),children:["Plot saved. To view the plot, run ",(0,s.jsx)("br",{}),(0,s.jsx)("div",{className:"my-2",children:(0,s.jsxs)("code",{className:"bg-gray-800 text-white p-2",children:[(0,s.jsx)("span",{className:"text-pink-500",children:"clusterfun"})," ",l]})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{className:"bg-blue-500 text-white px-2 py-1 rounded-md mt-2 hover:bg-blue-600 duration-150 ease-in-out transition-all ",onClick:()=>R.ZP.dismiss(e.id),children:"Close"})})]}),{duration:1e4})}).catch(e=>{console.log(e),alert("Could not save labels as new plot")})}async function w(e,l){let s=e?f:[];d.Z.post("".concat(n,"/views/").concat(t,"/label-download"),{label:{title:void 0===l?"":l},media_indices:{media_ids:s}}).then(e=>{let l=new Blob([e.data],{type:"text/csv;charset=utf-8"});(0,_.saveAs)(l,"".concat(t,"_labels.csv"))})}function N(e){return m.every(l=>void 0!==l.labels&&null!==l.labels&&l.labels.includes(e))}async function C(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(n=>{let s=[],i=n.map(t=>{let n={...t};return n.labels=n.labels||[],l?n.labels.includes(e)&&(s.push(n.index),n.labels=n.labels.filter(l=>l!==e)):n.labels.includes(e)||(s.push(n.index),n.labels=[...n.labels,e]),n});return l?W(t,s,e):H(t,s,e),i})}(0,a.useEffect)(()=>{T(f,t).then(e=>j(e))},[f,m]);let k=p.reduce((e,l)=>e+l.inCurrentSelection,0),O=p.reduce((e,l)=>e+l.inEntireDataset,0);return(0,s.jsxs)("div",{className:"w-full px-2 bg-gray-100 border border-gray-300  mt-2 rounded-b-md",children:[b.length>0&&(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("table",{className:"text-xs w-full border-collapse mt-2",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border px-4 py-2"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Label"}),(0,s.jsx)("th",{className:"text-xs border px-4 py-2",children:"Count in selection"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Count in all data"})]})}),(0,s.jsxs)("tbody",{children:[p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border py-2 text-center w-24",children:(0,s.jsx)("button",{className:"px-2 py-1 text-blue-500 rounded hover:text-blue-600",onClick:()=>C(e.label,N(e.label)),children:N(e.label)?"Deselect all":"Select all"})}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.label}),(0,s.jsx)("td",{className:"border px-4 py-2 text-center",children:(0,s.jsxs)("div",{className:"flex flex-end justify-between w-full",children:[(0,s.jsx)("div",{className:"flex justify-center flex-col",children:e.inCurrentSelection}),(0,s.jsx)("div",{className:"flex gap-1",children:e.inCurrentSelection>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>w(!0,e.label),children:[(0,s.jsx)(x.G,{icon:u.q7m}),(0,s.jsx)("span",{className:"ms-2",children:"Download"})]}),(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>y(!0,e.label),children:[(0,s.jsx)(x.G,{icon:u.DaQ}),(0,s.jsx)("span",{className:"ms-2",children:"Save as grid"})]})]})})]})}),(0,s.jsx)("td",{className:"border px-4 py-2 text-center",children:(0,s.jsxs)("div",{className:"flex flex-end justify-between w-full",children:[(0,s.jsx)("div",{className:"flex justify-center flex-col",children:e.inEntireDataset}),(0,s.jsx)("div",{className:"flex gap-1",children:e.inEntireDataset>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>w(!1,e.label),children:[(0,s.jsx)(x.G,{icon:u.q7m}),(0,s.jsx)("span",{className:"ms-2",children:"Download"})]}),(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>y(!1,e.label),children:[(0,s.jsx)(x.G,{icon:u.DaQ}),(0,s.jsx)("span",{className:"ms-2",children:"Save as grid"})]})]})})]})})]},e.label)),p.length>1&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{}),(0,s.jsx)("td",{className:"border px-4 py-2 text-left",children:(0,s.jsx)("b",{children:"Total"})}),(0,s.jsx)("td",{className:"border px-4 py-2 text-center",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"flex justify-center flex-col",children:k}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("div",{className:"flex justify-center flex-col",children:(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>w(!0),children:[(0,s.jsx)(x.G,{icon:u.q7m}),(0,s.jsx)("span",{className:"ms-2",children:"Download"})]})}),(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>y(!0),children:[(0,s.jsx)(x.G,{icon:u.DaQ}),(0,s.jsx)("span",{className:"ms-2",children:"Save as grid"})]})]})]})}),(0,s.jsx)("td",{className:"border px-4 py-2 text-center",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"flex justify-center flex-col",children:O}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>w(!1),children:[(0,s.jsx)(x.G,{icon:u.q7m}),(0,s.jsx)("span",{className:"ms-2",children:"Download"})]}),(0,s.jsxs)("button",{className:"p-2 text-blue-500 hover:text-blue-700",onClick:()=>w(!1),children:[(0,s.jsx)(x.G,{icon:u.DaQ}),(0,s.jsx)("span",{className:"ms-2",children:"Save as grid"})]})]})]})})]})]})]})}),(0,s.jsx)("div",{className:"mt-2 border-t border-gray-300 py-2",children:(0,s.jsxs)("div",{className:"flex items-center ",children:[(0,s.jsx)("input",{placeholder:"Label name",type:"text",className:"border rounded-l-md py-1 px-2 text-xs flex-grow",value:r,onChange:e=>o(e.target.value)}),(0,s.jsx)("button",{className:"button px-2 border py-1 text-xs bg-blue-500 rounded-r-md hover:bg-blue-600 text-white duration-150 ease-in-out transition-all",onClick:()=>{""===r||c.labels.includes(r)||(h({...c,labels:[...c.labels,r]}),o(""))},children:"Add label"})]})}),(0,s.jsx)("div",{className:"bg-gray-300 text-xs cursor-pointer flex justify-center flex-col -ms-2 h-4 -me-2 text-gray-500 rounded-b-md text-center caret-container",onClick:()=>{l()},children:(0,s.jsx)(x.G,{icon:u.eW2,className:"caret-icon"})})]})}function Q(e){let{back:l}=e,t=(0,i.Dv)($),r=void 0!==t?t[t.length-1]:[],o=(0,i.Dv)(X),h=(0,i.Dv)(J),g=(0,i.Dv)(ee),v=(0,i.b9)(es),f=(0,i.b9)(et),p=(0,i.b9)(en),[j,y]=(0,i.KO)(ei),[w,N]=(0,a.useState)(!1),[C,k]=(0,i.KO)(el),[E,D]=(0,a.useState)(!1);function S(e){null!=e&&null!=o&&c(o,e,!0).then(e=>{v(e),p("media")})}function B(e){f(e),void 0!==e&&c(o,e,!1).then(e=>{v(e)})}function _(e,l){void 0!==r&&void 0!==o&&m(o,r,C.page,void 0===e?C.sortBy:e,void 0===l?C.asc:l).then(e=>{y(e)})}function Z(e,l){var t;(null===(t=e.labels)||void 0===t?void 0:t.includes(l))?W(o,[e.index],l).then(e=>console.log("Label deleted:",e)).catch(e=>console.error("Error:",e)):H(o,[e.index],l).then(e=>{}).catch(e=>console.error("Error:",e)),y(t=>t.map(t=>{if(t.index===e.index){let e={...t};return(void 0===e.labels||null===e.labels)&&(e.labels=[]),e.labels.includes(l)?e.labels=e.labels.filter(e=>e!==l):e.labels.push(l),e}return t}))}return(0,a.useEffect)(()=>{void 0!==h&&void 0!==o&&_(void 0,void 0)},[r]),void 0===h||void 0===C?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"w-3/4",children:[(0,s.jsxs)("div",{children:[h.title&&(0,s.jsx)("div",{className:"text-xs font-bold mb-2",children:h.title}),(0,s.jsxs)("div",{className:"grid w-full  grid-cols-1 border-b border-gray-300 pb-0 pe-2 pt-1 text-black lg:grid-cols-6\n            lg:rounded-md lg:border lg:pt-0\n                  ",children:["grid"!==h.type&&(0,s.jsx)("div",{className:"flex flex-row border-b border-gray-300 lg:border-b-0 lg:border-r",children:(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsx)("div",{className:"border-r pb-1 pe-1 pt-1 flex",children:(0,s.jsx)(z,{handleBack:function(){void 0!==l&&l()}})}),(0,s.jsxs)("div",{className:"ms-2 flex items-center text-xs",children:[void 0!==r?r.length:0," ","selected"]})]})}),"grid"===h.type&&null===h.bounding_box&&(0,s.jsx)("div",{}),(0,s.jsx)("div",{id:"grid-menu-order",className:"border-b flex border-gray-300 py-2 lg:border-b-0 lg:border-r lg:px-2 lg:py-0 lg:pe-2  ",children:(0,s.jsx)(V,{columns:h.columns,gridValues:C,handleSort:function(e,l){void 0!==h&&h.columns.includes(e)&&(k({...C,sortBy:e,asc:l}),_(e,l))}})}),null!=h.bounding_box&&(0,s.jsx)(P,{gridValues:C,setGridValues:k}),(0,s.jsx)("div",{id:"grid-menu-show-column",className:"border-b border-gray-300 py-2 lg:flex lg:items-center lg:border-b-0 lg:border-r lg:px-2 lg:py-0 lg:pe-2",children:(0,s.jsx)(M,{columns:h.columns,gridValues:C,setGridValues:k})}),(0,s.jsxs)("div",{id:"grid-menu-column-n",className:"flex flex-row items-center justify-center border-b border-gray-300 py-2 text-xs lg:border-b-0 lg:border-r lg:px-2 lg:py-0",children:[(0,s.jsx)(x.G,{icon:L.pL1,className:"me-1"}),(0,s.jsx)("div",{className:"flex grow items-center justify-center",children:(0,s.jsx)("input",{type:"range",className:"w-full",min:1,max:10,value:C.numberOfColumns,onChange:e=>(function(e){let l=parseInt(e.target.value);k({...C,numberOfColumns:l})})(e)})}),(0,s.jsx)(x.G,{icon:u.DaQ,className:"ms-1"})]}),(0,s.jsxs)("div",{className:"flex-column flex cursor-pointer justify-end ps-2 text-right",children:[(0,s.jsx)(K,{handlePage:e=>{k({...C,page:e}),m(o,r,e,C.sortBy,C.asc,g).then(e=>{y(e)})},maxPage:void 0!==r?Math.floor(r.length/50):0,page:void 0===C.page?0:C.page}),(0,s.jsx)("div",{onClick:()=>N(!w),className:" ms-2 flex items-center hover:text-blue-500",children:(0,s.jsx)(x.G,{icon:u.gee,title:"Show stats"})})]})]}),(0,s.jsx)("div",{children:w&&(0,s.jsx)("div",{className:"border-b",children:(0,s.jsx)(I,{mediaIndices:r})})}),(0,s.jsx)("div",{className:"pt-1",children:(0,s.jsx)(b,{})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"w-full text-center text-xs bg-gray-300 mt-2 ".concat(E?"-mb-2 h-3 rounded-t-md":"rounded-md flex justify-center flex-col py-1 cursor-pointer hover:text-gray-500"),onClick:()=>D(!E),children:!1===E&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"me-2",children:"Labelling"}),(0,s.jsx)(x.G,{icon:u.eW2,className:"text-gray-500"})]})}),E&&(0,s.jsx)(A,{hideLabel:()=>{D(!1)}})]}),(0,s.jsx)("div",{className:"",children:(0,s.jsx)("div",{className:"grid p-2 grid-cols-".concat(C.numberOfColumns&&C.numberOfColumns," gap-4"),style:{maxHeight:"calc(100vh - 80px)",overflowY:"scroll"},children:j.map(e=>(0,s.jsx)(F,{media:e,handleClick:S,handleHover:B,infoColumns:h.columns,columns:C.numberOfColumns,showColumn:C.showColumnValue,boundingBoxColumn:h.bounding_box,showBboxLabel:C.showBboxLabel,display:h.display,updateLabel:Z},e.index))})})]}),(0,s.jsxs)("div",{className:"w-1/4",children:[(0,s.jsx)("div",{className:"button w-full cursor-pointer border rounded-md mb-2 border-gray-300 bg-gray-100 py-1 text-center text-xs text-gray-900 hover:bg-gray-300 duration-150 ease-in-out transition-all",onClick:()=>void d.Z.post("".concat(n,"/views/").concat(o,"/download-grid"),{media_ids:t[t.length-1]}).then(e=>{let l=new Blob([e.data],{type:"text/csv;charset=utf-8"});G()(l,"data.csv")}),children:"Download grid as csv"}),(0,s.jsx)(O,{})]})]})}var q=t(6142);function U(e){let{back:l}=e,t=(0,i.Dv)(J),n=(0,i.Dv)(es),[r,o]=(0,a.useState)([]),[d,c]=(0,a.useState)([]);return(0,a.useEffect)(()=>{if(void 0===n||void 0===t||null==t.bounding_box)return;let e=t.columns.indexOf(t.bounding_box);if(null!=n.information&&null!=e){let l=n.information[e-2];if(null==l)return;c(C(l))}},[n,t]),(0,a.useEffect)(()=>{let e=(null==n?void 0:n.height)!=null?n.height:1e3,l=[];d.length>0&&d.forEach((t,n)=>{l.push({type:"rect",x0:1*t.xmin,y0:e-1*t.ymin,x1:1*t.xmax,y1:e-1*t.ymax,line:{width:3,color:t.color?t.color:w.O[n%w.O.length]}})}),o(l)},[d,n]),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"w-3/4",children:[(0,s.jsx)(z,{handleBack:function(){void 0!==l&&l()}}),(0,s.jsx)("div",{className:"p-2",children:void 0!==n&&function(e){let{media:l,scaleFactor:t,shapes:n,boundingBoxes:i}=e;return(0,s.jsx)("div",{style:{height:"calc(100vh - 80px)"},children:(0,s.jsx)(q.default,{media:l,scaleFactor:t,shapes:n,boundingBoxes:i})})}({media:n,scaleFactor:1,shapes:r,boundingBoxes:d})})]}),(0,s.jsx)("div",{className:"w-1/4",children:void 0!==t&&void 0!==n&&(0,s.jsx)(O,{})})]})}(0,v.default)(Promise.resolve().then(t.bind(t,6142)),{loadableGenerated:{webpack:()=>[6142]},ssr:!1});let Y=(0,r.cn)(void 0),J=(0,r.cn)(void 0),X=(0,r.cn)("recent"),$=(0,r.cn)([]),ee=(0,r.cn)([]),el=(0,r.cn)({sortBy:"",asc:!0,page:0,numberOfColumns:5,showColumnValue:void 0,showBboxLabel:!1}),et=(0,r.cn)(void 0),en=(0,r.cn)("plot"),es=(0,r.cn)(void 0),ei=(0,r.cn)([]);function ea(e){let{uuidProp:l}=e,[t,n]=(0,i.KO)(X),r=(0,i.b9)(Y),o=(0,i.b9)(J),[d,c]=(0,i.KO)(et),[u,x]=(0,i.KO)(en),[m,g]=(0,i.KO)($),[b,v]=(0,i.KO)(el),f=(0,i.Dv)(ee);function p(e){g([...m,e]),x("grid")}return(0,a.useEffect)(()=>{"recent"===l?S().then(e=>{n(e)}):n(l)},[l]),(0,a.useEffect)(()=>{D(t).then(e=>{let{config:l,data:n}=e;r(n),o(l),"grid"===l.type&&(x("grid"),h(t,f).then(e=>{if(e){let l=[];e.forEach(e=>{l=[...l,...e.id]}),g([...m,l])}}))})},[t]),function(){switch(u){case"plot":return(0,s.jsx)(E,{handleMediaIndices:p});case"grid":return(0,s.jsx)(Q,{back:()=>{g([]),v({...b,page:0}),x("plot")}});case"media":if(void 0!==d)return(0,s.jsx)(U,{mediaIndex:d,back:()=>{c(void 0),void 0!==m&&m.length>0?x("grid"):x("plot")}});return(0,s.jsx)("div",{className:"text-black",children:"Loading.."});default:return(0,s.jsx)("div",{className:"text-black",children:"Loading.."})}}()}var er=t(357);function eo(){return(0,s.jsxs)(i.zt,{children:[(0,s.jsx)(R.x7,{}),(0,s.jsx)("div",{className:"m-2",children:(0,s.jsx)(ea,{uuidProp:"https://clusterfun.app"===er.env.BASE_URL?"8e6e40d8-8df2-44d6-b5a3-34594c50a504":"recent"})})]})}},6142:function(e,l,t){"use strict";t.r(l);var n=t(7437),s=t(7818),i=t(1613);let a=(0,s.default)(async()=>await Promise.all([t.e(934),t.e(8)]).then(t.bind(t,2008)),{loadableGenerated:{webpack:()=>[2008]},ssr:!1});l.default=e=>{let{media:l,scaleFactor:t,shapes:s,boundingBoxes:r}=e;return(0,n.jsx)(a,{data:[{x:[0,null!=l.width?l.width*t:1e3],y:[0,null!=l.height?l.height*t:1e3],mode:"markers",marker:{opacity:0}}],layout:{dragmode:"pan",hovermode:"closest",yaxis:{showgrid:!1,showline:!1,zeroline:!1,showticklabels:!1,range:[0,null!=l.height?l.height*t:1e3],scaleanchor:"x"},xaxis:{showgrid:!1,showline:!1,zeroline:!1,showticklabels:!1,range:[0,null!=l.width?l.width*t:1e3]},images:[{x:0,sizex:null!=l.width?l.width*t:1e3,y:null!=l.height?l.height*t:1e3,sizey:null!=l.height?l.height*t:1e3,xref:"x",yref:"y",opacity:1,layer:"below",sizing:"stretch",source:l.src}],margin:{l:0,r:0,b:0,t:0,pad:0},shapes:null!=s?s:[],annotations:r&&r.map((e,n)=>({x:e.xmin*t,y:l.height?l.height-e.xmin*t:1e3-e.xmin*t,xref:"x",yref:"y",text:e.label,align:"right",showarrow:!1,xanchor:"left",yanchor:"top",font:{color:"white"},bgcolor:i.O[n%i.O.length],bordercolor:i.O[n%i.O.length]}))},config:{modeBarButtonsToRemove:["sendDataToCloud","autoScale2d","hoverClosestCartesian","hoverCompareCartesian","lasso2d","select2d","toImage"],responsive:!0,scrollZoom:!0},useResizeHandler:!0,style:{width:"100%",height:"100%"}})}},1613:function(e,l,t){"use strict";t.d(l,{O:function(){return n}});let n=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#0000FF","#00FF00","#FF0000","#00FFFF","#FF00FF","#FFFF00","#C0C0C0","#800000"]}},function(e){e.O(0,[676,771,971,23,744],function(){return e(e.s=7947)}),_N_E=e.O()}]);